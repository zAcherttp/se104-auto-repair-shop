ID,Test Case Description,Test Case Procedure,Expected Output,Inter-test case Dependence,Result,Test date,Note
INV-1,Decrease stock on item add,Create spare part (stock=50) → Create order → Add item qty=5 → Manually update stock to simulate app,Stock becomes 45,None,Pass,2025-12-16,From test/integration/modules/inventory.test.ts
INV-2,Increase stock on item delete,Create part (stock=40) → Create order → Add item qty=10 → Simulate stock 30 → Delete item → Restore to 40,Stock returns to 40,None,Pass,2025-12-16,From modules/inventory.test.ts
INV-3,Multiple parts stock decrease,"Create part A(20), B(15) → Create order → Add items (A:2, B:1) → Update stocks 18 and 14","A=18, B=14",None,Pass,2025-12-16,From modules/inventory.test.ts
INV-4,Prevent negative stock (logic),Create part (stock=5) → Create order → Add item qty=10 → Clamp update to ≥0,"Stock=0, never negative",None,Pass,2025-12-16,From modules/inventory.test.ts
INV-5,Labor items don't affect stock,Create labor type → Create order → Add labor item,Item inserted; no stock change,None,Pass,2025-12-16,From modules/inventory.test.ts
INV-6,Mixed parts and labor in order,Create part and labor → Create order → Insert 2 items (part+labor),Two items present; shapes correct,None,Pass,2025-12-16,From modules/inventory.test.ts
INV-7,Cumulative stock math,Create part (100) → Use 20 → Use 15 → Update stock each step,Final stock=65,None,Pass,2025-12-16,From modules/inventory.test.ts
INV-8,DB enforces non-negative stock,Update `spare_parts.stock_quantity` to -5 directly,Insert/update rejected (check_violation 23514),None,Expected Fail,2025-12-16,Spec for DB CHECK constraint
INV-9,Low stock alert threshold,Query parts with `stock_quantity` ≤ 5,Part flagged in result set/view,None,Expected Fail,2025-12-16,Spec for low-stock feature/column